def custom_transliterate(text):
    translit_table = {
        'а': 'a', 'б': 'b', 'в': 'v', 'г': 'g', 'д': 'd',
        'е': 'e', 'ё': 'yo', 'ж': 'j', 'з': 'z', 'и': 'i',
        'й': 'y', 'к': 'k', 'л': 'l', 'м': 'm', 'н': 'n',
        'о': 'o', 'п': 'p', 'р': 'r', 'с': 's', 'т': 't',
        'у': 'u', 'ф': 'f', 'х': 'kh', 'ц': 'ts', 'ч': 'ch',
        'ш': 'sh', 'щ': 'sh', 'ы': 'i', 'э': 'e', 'ю': 'yu',
        'я': 'ya',

        'А': 'A', 'Б': 'B', 'В': 'V', 'Г': 'G', 'Д': 'D',
        'Е': 'E', 'Ё': 'Yo', 'Ж': 'J', 'З': 'Z', 'И': 'I',
        'Й': 'Y', 'К': 'K', 'Л': 'L', 'М': 'M', 'Н': 'N',
        'О': 'O', 'П': 'P', 'Р': 'R', 'С': 'S', 'Т': 'T',
        'У': 'U', 'Ф': 'F', 'Х': 'Kh', 'Ц': 'Ts', 'Ч': 'Ch',
        'Ш': 'Sh', 'Щ': 'Sh', 'Ы': 'I', 'Э': 'E', 'Ю': 'Yu',
        'Я': 'Ya',

        'ь': '', 'Ь': '', 'ъ': '', 'Ъ': ''
    }

    result = ''
    vowels_and_soft_signs = 'аеёиоуыэюяьАЕЁИОУЫЭЮЯЬ'

    for i, char in enumerate(text):
        # Handle "Е е" at word start or after space, punctuation, or vowel
        if char in ('е', 'Е'):
            prev = text[i-1] if i > 0 else ' '
            if prev in ' \n\t.,!?—-\"' or prev in vowels_and_soft_signs:
                result += 'ye' if char == 'е' else 'Ye'
            else:
                result += 'e' if char == 'е' else 'E'
        else:
            result += translit_table.get(char, char)

    return result



test_sentences = [
    "Я люблю музыку и тишину.",
    "Привет, как дела?",
    "Это моя собака, её зовут Щука.",
    "Щенок играл во дворе.",
    "Мы поехали на дачу.",
    "У меня есть ёлка дома.",
    "Площадь была пуста.",
    "Он сказал: \"Я вернусь.\"",
    "Дождь шёл весь день.",
    "Пьеса начинается в семь.",
    "Твёрдый знак больше не нужен.",
    "Мягкий знак смягчает согласные.",
    "Щит был тяжёлым и старым.",
    "Я нашёл эту книгу в библиотеке.",
    "Объём работы большой.",
    "Она улыбнулась мне.",
    "Зачем ты это сделал?",
    "У нас нет времени.",
    "Сегодня отличная погода!",
    "Юлия поёт красиво.",
    "Я никогда не был в Москве.",
    "Он купил чёрный чай.",
    "Где находится щель?",
    "Вчера мы ели щи.",
    "Щёлкни на ссылку.",
    "Учитель проверил работу.",
    "Пиши аккуратно, пожалуйста.",
    "Они были в хорошем настроении.",
    "Это было неожиданно.",
    "Он изучает русский язык."
]


for sentence in test_sentences:
    print(custom_transliterate(sentence))
